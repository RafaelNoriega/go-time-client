<% include ./partials/_header.ejs%>
<% include ./partials/_navbar.ejs%>
    <div class="container-md">
    <div class="row">
        <div class="col" style="padding-bottom: 20px;">
            <form action="/time" method="POST" style="padding-top: 80px;">
                <h1 class="text-center text-primary" style="padding-top: 10px;padding-bottom: 10px;">Time Entry</h1>
                <% if(message) { %>
                    <p style="color:green;font-size: small;text-align: center;"> <strong> <%= message %> </strong></p>
                <% } %>
                <% if(error) { %>
                    <p style="color:red;font-size: small;text-align: center;"> <strong> <%= error %> </strong></p>
                <% } %>
                <div class="form-group" id="date-input"><label for="date">Date</label><input class="form-control" type="date" name="date" value=<%= day %> required></div>
                <div class="form-group" id="employee-input"><label for="employee">Employees</label>
                    
                    <div class="form-group">
                        <input type="checkbox" name="date" onclick='$("input:checkbox").attr("checked", function(index, attr){
                            return attr == "checked" ? false : true;
                        })'>Select All</input>
                        <small id="checked-count"></small>
                    </div>
                    <% for(let employee of employees) {%>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="employees" value=<%= employee.sk %> id="formCheck-1">
                            <label class="form-check-label" for="formCheck-1"><%= `${employee.lastName}, ${employee.firstName} ${employee.middleName} ${employee.employeeId}`%></label>
                        </div>
                    <%}%>
                </div>
                
                <div class="form-group" id="hours-input-1">
                    <label for="hours">Hours</label>
                    <input class="form-control" type="number" name="hours" value="8">
                </div>
                <div class="form-group" id="break-input">
                    <label for="hours">Break</label>
                    <input class="form-control" type="number" name="breakTime" value="20">
                    <small>Value should be presented in minutes</small>
                </div>
                <button class="btn btn-primary btn-block button-primary" type="submit">Submit</button>
            </form>
        </div>
    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
<script src="javascripts/Table-With-Search.js"></script>
<script src="javascripts/checked-count.js"></script>
</body>

</html>